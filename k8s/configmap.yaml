apiVersion: v1
kind: ConfigMap
metadata:
  name: backend-config
  namespace: tsp-app
data:
  PORT: "3001"
  NODE_ENV: "development"
  LOG_LEVEL: "info"
  # OpenTelemetry: load auto-instrumentation before app (express, http traced to OTLP)
  NODE_OPTIONS: "--require @opentelemetry/auto-instrumentations-node/register"
  OTEL_SERVICE_NAME: "backend-api"
  # OTLP endpoint (otel collector in monitoring namespace; use release name as host, e.g. otel or otel-collector)
  OTEL_EXPORTER_OTLP_ENDPOINT: "http://otel-collector.monitoring.svc.cluster.local:4318"
  OTEL_EXPORTER_OTLP_PROTOCOL: "http/protobuf"
  OTEL_TRACES_EXPORTER: "otlp"
